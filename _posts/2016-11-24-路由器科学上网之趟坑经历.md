---
id: 983
title: 路由器科学上网之趟坑经历
date: 2016-11-24T11:06:42+08:00
author: cloud
layout: post
guid: http://www.cloudchou.com/?p=983
permalink: /android/post-983.html
published: false
categories:
  - work
tags:
  - work
---


## 背景


## 遇到的那些问题

1.  选择兼容的openwrt版本,shadowsocks版本,luci-app-shadowsocks版本，chinadns版本, luci-app-chinadns版本

遇到的问题:
    
    低版本的openwrt 安装 shadowsocks 遇到的问题: postinst script returned status 127 
    prerm script returned status 127 
    因为/lib/functions.sh缺少这两个函数 postinst prerm

    openwrt升级到snapshot版本后 找不到libUclib.so，导致无法启动chinadns，报错 ash chinadns  not found
    或者 ash shadowsocks  not found

    openwrt 需要使用稳定版

    要想在网页上 配置 shadowsocks， 必须安装luci-app-shadowsocks, 但是还需要选择正确的shadowsocks版本，
    必须使用spec版本，才会携带/etc/init.d/shadowsocks脚本，也才能与luci-app-shadowsocks兼容 


    因为shadowsocks没有开启fastopen, getpeername transport endpoint is not connected
    若要开启fastopen，要求linux内核必须是3.7.0以上
    所以给VPS重装系统

    再安装Shadowsocks

